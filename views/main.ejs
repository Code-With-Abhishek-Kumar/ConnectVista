<%- include('./Include/header' , title) %>
    <%- include('./Include/nav' ) %>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
            integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
            crossorigin="anonymous" referrerpolicy="no-referrer" />


        <main class="w-screen   indent-1 bg-black overflow-hidden">
            <div class="cursor w-40 rounded-full h-36 bg-green-700 absolute z-10 pointer-events-none"></div>

            <div id="page1" class="w-screen h-min relative py-9">
                <div id="PostContainer"
                    class="w-full h-fit rounded-md mt-14   relative justify-center items-center hidden ">
                    <form action="/Post" method="post" class="w-1/2 mt-8 lg:w-1/3 h-full bg-yellow-300 flex flex-col rounded-md px-8"
                        enctype="multipart/form-data">
                        <input type="hidden" name="user" value="<%= id %> ">
                        <div class="flex gap-6 mt-8 items-center">


                            <img src="<%-  ProfilePicture %> " alt="" srcset=""
                                class="w-16 h-16 rounded-full object-contain">

                            <input type="text"
                                class="w-8/12 border-2 h-14 border-white text-white rounded-lg bg-black text-wrap"
                                placeholder="Write Some Thing">
                            <div class="text-area">
                                <!-- here your text content -->

                            </div>
                        </div>

                        <div id="post_btn" class="h-14 w-full flex gap-3 text-white mt-3 mb-3 justify-center">
                            <div class="w-2/6 h-full border-white border-2 rounded-md flex gap-2 p-1 items-center">
                                <label for="Upload_video"
                                    class="w-full h-full bg-orange-500 flex items-center text-xl gap-3">
                                    <img src="/images/icons8-video.gif" alt="" srcset="" width="30%" height="100%">
                                    <span>Video</span>

                                    <input type="file" name="Video_file" id="Upload_video" class="hidden"
                                        accept="video/*">

                                </label>

                            </div>
                            <div
                                class="w-2/6 h-full border-white border-2 rounded-md flex gap-2 p-1 items-center relative">

                                <label for="ImageUpload_btn"
                                    class="w-full h-full bg-red-500 flex  items-center text-xl gap-3">

                                    <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="30%" height="100%"
                                        viewBox="0 0 64 64" id="a">
                                        <ellipse cx="32.025" cy="61" opacity=".3" rx="23" ry="3"></ellipse>
                                        <path fill="#9c34c2"
                                            d="M50.002,51.005h-36c-3.314,0-6-2.686-6-6v-25c0-3.314,2.686-6,6-6h36c3.314,0,6,2.686,6,6v25	C56.002,48.319,53.316,51.005,50.002,51.005z">
                                        </path>
                                        <path fill="#fff"
                                            d="M23,19.005c2.761,0,5-2.238,5-5l0,0H14.002c-3.314,0-6,2.686-6,6V37l0,0 c2.761,0,5-2.238,5-5V20.005c0-0.552,0.449-1,1-1H23z"
                                            opacity=".3"></path>
                                        <path
                                            d="M56.002,45.005V28c-2.761,0-5,2.238-5,5v11.058c0,1.075-0.872,1.947-1.947,1.947H35 c-2.761,0-5,2.239-5,5l0,0h20.002C53.316,51.005,56.002,48.319,56.002,45.005z"
                                            opacity=".15"></path>
                                        <path fill="none" stroke="#fff" stroke-linecap="round" stroke-linejoin="round"
                                            stroke-miterlimit="10" stroke-width="3"
                                            d="M11.502,25.5v-5.495c0-1.379,1.122-2.5,2.5-2.5H16.5"></path>
                                        <path fill="orange"
                                            d="M38.627,33.164L29,46h20c1.648,0,2.589-1.882,1.6-3.2l-7.227-9.636	C42.187,31.582,39.813,31.582,38.627,33.164z">
                                        </path>
                                        <path fill="#ffce29"
                                            d="M23.915,28.127L14.447,42.33C13.401,43.899,14.525,46,16.411,46H40L28.085,28.127	C27.093,26.639,24.907,26.639,23.915,28.127z">
                                        </path>
                                        <circle cx="38.5" cy="24.5" r="3.5" fill="#ffe691"></circle>
                                    </svg>
                                    <span>Image</span>

                                    <input type="file" name="image" id="ImageUpload_btn" class="hidden"
                                        accept="image/*">
                                </label>



                            </div>


                            <button
                                class="bg-sky-500 hover:bg-sky-700 px-2 py-2 rounded-md text-xl h-3/4 mt-2">Post</button>
                        </div>
                    </form>
                </div>

                <div id="left_sidebar" class="flex right-0 w-[100vw] px-10 gap-6 bottom-0 p-3 h-[8vh] xl:w-1/3 xl:h-[88vh]  items-center xl:flex-col fixed xl:left-0 bg-black border-t-0 border-r-2 border-red-800 justify-center z-50">



                  


                    <span class=" h-fit icon ">


                        <a href="/main" class="  w-full h-full ">
                      
                            <i class="fa-solid fa-house text-3xl lg:text-2xl mt-1"></i>
                        <p class="hidden xl:block">Home</p>
                        </a>

                        
                    </span>


                    <span class=" h-fit icon ">
                        <label for="ImageUpload_btn" class="  w-full h-full flex gap-3">
                            <i class="fa-solid fa-square-plus text-3xl lg:text-2xl mt-1"></i>
                            <p class="hidden xl:block">Create</p>

                        </label>

                      

                        
                    </span>


                    

                    <span class=" h-fit icon hidden xl:block">


                        

                        <a href="/dashboard" class="  w-full h-full ">
                     

                            <i class="fa-solid fa-gauge text-3xl lg:text-2xl mt-1"></i>
                        <p class="hidden xl:block">Dash Board</p>
                        </a>
                    </span>




                    <span class=" h-fit icon ">


                        

                        <a href="/profile" class="  w-full h-full ">
                            <i class="fa-regular fa-user text-3xl lg:text-2xl mt-1"></i> 
                        <p class="hidden xl:block">Profile</p>
                        </a>
                    </span>

                    <span class=" h-fit icon ">


                        

                        <a href="/logout" class="  w-full h-full ">
                            
                            <i class="fa-solid fa-right-from-bracket text-3xl lg:text-2xl mt-1 "></i>
                        <p class="hidden xl:block">Log Out</p>
                        </a>
                    </span>
                


                </div>


                <div class="bg-black flex flex-col gap-24 w-full  lg:relative  items-center  xl:items-end mt-9">



                    


                    <% Posts.forEach(element=> { %>
                        <div class="w-[70vw]  h-max sm:[60vw]  lg:w-[60vw] xl:w-[40vw] lg:h-[95vh] xl:mr-[13vw]  xl:h-[90vh] p-3 border-spacing-1 border-2 border-white rounded-md flex flex-col">
                            <div class=" h-3/4 w-full">
                                <% if (element.image) { %>
                               <div class="User_container h-10 w-full mb-4">
                                <a href="/profile/<%- element.user.id %> ">
                                    <div class=" border-b-2 border-green-900 flex gap-3">
                                        <img src="<%- element.user.Profile_Image %> " alt="" srcset="" class="h-10 w-10  object-cover rounded-full">
                                        <span class="text-white flex gap-1 mt-1"><p><%- element.user.firstName %></p>  <p><%- element.user.surname %></p> </span>
                                       
                                    </div>
                                </a>
                               </div>
                                  
                                   
                                    <img src="/images/Uploads/<%- element.image  %> " alt="" srcset=""
                                        class="w-full h-full object-fill">
                                    <div class="w-full h-16 flex gap-24 mt-4 mb-4 rounded-md border-r-2 border-white border-l-2  border-b-2">
                                        <div class="like h-full w-2/6 relative  border-t-2 border-red-700 flex py-2 flex-col">
                                 
                                            <a href="/like/<%- element._id %> ">


                                            

                                           <% if (element.like.indexOf(id)) { %>
                                          
                                            <i class="fa-solid fa-heart text-xl text-white absolute left-1/3 top-1"></i>
                                            
                                            <% } else { %>
                                                <i class="fa-solid fa-heart text-2xl text-red-700 absolute left-1/3 top-1"></i>
                                             <% } %>
                                             
                                            <p class="text-white text-md mr-2 relative mt-5 text-center "> <%- element.like.length  %> Like </p>
                                            </a>
                                        </div>
                                       
                                            
                                          
                                            <div class="h-full w-2/6  border-t-2 border-red-700 lex py-2 flex-col items-center justify-center   ">
                                                <a href="/comment/<%- element._id %> ">
                                                    <i class="fa-regular fa-comment text-white text-lg"></i>
                                                    <p class="text-white text-md w-fit">1k Comment</p>
                                                </a>
                                            </div>

                                       
                                        <div class="h-full w-2/6   border-t-2 border-red-700"></div>
                                    </div>

                                    <%} else { %>
                                        <video src="/images/Uploads/<%- element.video  %> " controls loop muted
                                            class="w-full h-full object-cover"></video>
                                        <% } %>

                            </div>



                        </div>
                        <% }) %>

                            <!-- Post End -->








                </div>


            </div>


            <button
                class="rounded-full w-10 h-10  fixed bottom-0  bg-red-500 right-8 font-extrabold text-3xl mb-3 mr-5">+</button>



            <!-- <div id="page2" class="w-screen h-screen bg-green-700 relative">
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Nobis assumenda debitis rem ipsam dignissimos. Suscipit, delectus. Recusandae vitae officiis quo modi ipsam minus, voluptates repellendus delectus? Eius provident ratione totam officiis enim odio et dolorum adipisci voluptatem, recusandae aspernatur cumque minima, molestiae eligendi culpa error magnam alias obcaecati similique. Magni corrupti eligendi excepturi doloremque voluptate ullam, veritatis minima alias. Ipsum quia omnis esse aut magni maxime sapiente aliquid error iusto, voluptatem dignissimos rem culpa beatae porro ipsa. Animi, voluptatum pariatur iusto praesentium mollitia aliquam maxime impedit suscipit voluptate officiis, eum corrupti nam expedita quod odit doloribus officia, sit possimus accusantium totam?</p>
        </div> -->


        </main>

        <%- include('./Include/footer') %>